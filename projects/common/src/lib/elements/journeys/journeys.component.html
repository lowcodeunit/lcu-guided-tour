<ng-container *ngIf="!State.Loading">
  <div *ngIf="!State.CurrentJourneyLookup">
    <div fxLayout="column" fxLayoutGap="5px">
      <div fxLayout="row" fxLayoutGap="5px">
        <div
          fxFlex="75"
          fxLayoutAlign="start end"
          class="welcome-bg background-fill"
        >
          <div class="welcome-index" fxLayout="row" fxLayoutGap="30px">
            <div fxFlex="30">
              <h1 fxLayout="column">
                <span class="plain-text theme-accent-text">Welcome to</span>
                <span class="mat-display-2 title">Fathym!</span>
              </h1>
            </div>
            <div class="divider-fill-vert"></div>
            <div fxLayout="column" fxLayoutAlign="end start">
              <h2 class="plain-text theme-accent-text" fxFlex="100%">
                Start Your Journey
              </h2>

              <p>
                The Fathym Low-Code Framework enables you to take charge of your
                hybrid-clouds, cloud-native applications, and deployment strategies.
              </p>

              <p>
                The framework radically reduces the time and work involved in
                managing legacy applications, adopting new application delivery
                strategies (micro-frontends, Jamstack, containerization, cloud-native), and
                bringing infrastructure and DevOps best practices to bear.
              </p>

              <p>
                You can get started with the <a href="https://www.fathym-it.com/docs">full documentation</a>.
              </p>
            </div>
          </div>
        </div>
        <div fxFlex class="background-fill blank-header"></div>
      </div>

      <!-- <div fxLayout="row" fxLayoutGap="5px">
        <div class="cat" fxFlex="25"></div>
        <div class="cat" fxFlex="25"></div>
        <div class="cat" fxFlex="25"></div>
        <div class="cat" fxFlex="25"></div>
      </div> -->

      <div fxLayout="row">
        <div fxFlex fxLayout="row" fxLayoutGap="5px">
          <div
            fxFlex="25"
            fxLayout="row"
            fxFill
            fxLayoutAlign="start start"
            style="padding-left: 50px; padding-right: 50px"
            class="background-fill box-side-triangle"
          >
            <div fxLayout="column" fxFlex="90" style="padding-top: 100px">
              <div class="divider-fill-hor"></div>

              <h3 style="font-size: 20px" class="plain-text whats-next-text">
                What's Next?
              </h3>
              <p>
                Use the Journeys below to familiarize yourself with the rest of
                what you can do with Fathym!
              </p>

              <div class="divider-fill-hor"></div>
            </div>
          </div>

          <div class="background-fill" fxFlex>
            <div
              class="highlighted-journey spread"
              *ngFor="let hJourney of HighlightedJourneys"
            >
              <lcu-journey-card
                *ngIf="hJourney.Active"
                [journey]="hJourney"
                [highlight]="true"
                (more-details)="MoreDetails($event)"
              ></lcu-journey-card>
            </div>

            <!-- <mat-card gdColumn="auto / span 2" class="spread"> -->
            <mat-tab-group mat-align-tabs="left" backgroundColor="accent">
              <mat-tab
                *ngFor="let journeySet of DividedJourneys"
                label="{{ journeySet.JourneyName }}"
              >
                <div
                  gdColumns.lt-sm="48% 48%"
                  gdColumns.lt-xs="100%"
                  gdColumns="32% 32% 32%"
                  gdGap="2em"
                  gdGap.lt-sm="1em"
                  class="spread"
                >
                  <ng-container
                    *ngFor="let journey of journeySet.Journeys"
                    style="
                      background-color: orangered;
                      height: auto;
                      width: 800px;
                    "
                  >
                    <lcu-journey-card
                      *ngIf="
                        ContainsRoleType(journey, journeySet.JourneyName) &&
                        journey.Active
                      "
                      [journey]="journey"
                      (more-details)="MoreDetails($event)"
                    ></lcu-journey-card>
                  </ng-container>
                </div>
              </mat-tab>
            </mat-tab-group>
            <!-- </mat-card> -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-container *ngIf="State.CurrentJourneyLookup">
    <lcu-journey-details
      *ngIf="State.IsIoTStarter"
      [iot-data]="State.IoTData"
      [journey]="CurrentJourney"
      (close)="MoreDetails(null)"
    ></lcu-journey-details>
  </ng-container>
</ng-container>

<div class="spread" *ngIf="State.Loading">
  <mat-spinner></mat-spinner>
</div>
